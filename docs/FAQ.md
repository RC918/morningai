# System Architecture of MorningAI

MorningAI is designed as a scalable, multi-tenant Software as a Service (SaaS) platform leveraging a modern technology stack to provide autonomous agent systems for code generation, FAQ generation, documentation management, and multi-platform integration. Below is an in-depth overview of its system architecture.

## Core Components

### Frontend
- **Technology**: React with Vite and TailwindCSS for rapid development and easy styling.
- **Path**: The frontend code is located in the `frontend/` directory of the repository.
- **Integration**: Communicates with the backend through RESTful APIs or WebSocket for real-time functionalities.

### Backend
- **Technology**: Python with Flask framework and Gunicorn as the WSGI HTTP Server with multi-worker support for handling concurrent requests efficiently.
- **Path**: Backend source code can be found under the `backend/` directory.
- **Functionality**: It includes endpoints for user authentication, task orchestration, agent management, and integration services.

### Database
- **Technology**: PostgreSQL facilitated by Supabase which offers additional features like Row Level Security (RLS) for enhanced data protection.
- **Configuration**: Database schemas and initial setup scripts are located under `database/` folder. RLS policies are defined within Supabase's dashboard.

### Queue System
- **Technology**: Redis Queue (RQ) is used for managing asynchronous tasks, providing worker heartbeat monitoring to ensure reliability.
- **Setup**: Configuration details for RQ can be found in `config/rq_config.py`. 

### Orchestration
- **Technology**: LangGraph is utilized for defining agent workflows, ensuring tasks are processed efficiently and in the correct order.
- **Implementation Details**: Workflow definitions reside in `orchestration/`, showcasing how different agents interact within the system.

### AI Integration
- **AI Model**: OpenAI's GPT-4 is integrated for content generation tasks including FAQ generation and code suggestions.
- **Usage Example**:
  ```python
  from openai_integration import OpenAIClient
  
  client = OpenAIClient(api_key="your-api-key")
  response = client.generate_faq(question="How to integrate Redis Queue?")
  print(response)
  ```

### Deployment
- **Platform**: Render.com with CI/CD pipelines configured for automatic deployment on code updates.
- **Configuration Files**: Deployment configurations and Dockerfiles are located in the `deployment/` directory.

## Related Documentation Links

For more detailed setup instructions and configuration guides, please refer to:

1. Flask Documentation: [https://flask.palletsprojects.com/](https://flask.palletsprojects.com/)
2. React Documentation: [https://reactjs.org/docs/getting-started.html](https://reactjs.org/docs/getting-started.html)
3. Supabase Documentation: [https://supabase.io/docs](https://supabase.io/docs)
4. Redis Queue (RQ) Documentation: [http://python-rq.org/docs/](http://python-rq.org/docs/)
5. Render.com Deployment Guides: [https://render.com/docs](https://render.com/docs)

## Common Troubleshooting Tips

1. **Frontend not updating after backend changes**:
   - Ensure that your frontend is properly fetching data from the backend. Check network requests in your browser's developer tools.
   - Verify that CORS settings are correctly configured on the backend.

2. **Database connection issues**:
   - Double-check your Supabase connection strings and ensure they match what's provided in your project settings on Supabase.
   - Review Row Level Security policies to ensure they don't inadvertently block access from your application.

3. **Tasks stuck in queue**:
   - Investigate worker logs to check for errors or exceptions during task execution.
   - Confirm that Redis server is running and accessible by your application.

By understanding each component within MorningAI's architecture, developers can better navigate the platform, integrate new features, troubleshoot issues effectively, and contribute to its growth.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `dea34acf-fb0c-4a64-81c7-3844a031a774`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
