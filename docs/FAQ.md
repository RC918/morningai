# System Architecture of MorningAI

MorningAI leverages a robust and scalable multi-tenant SaaS platform architecture designed to provide autonomous agent systems for code generation, FAQ generation, documentation management, and multi-platform integration. The architecture is built with a focus on real-time task orchestration and efficient vector memory storage to ensure high performance and reliability.

## Core Components

### Frontend
- **Technologies**: React, Vite, TailwindCSS
- **Functionality**: Provides the user interface for interacting with the MorningAI platform. Implemented using React for its component-based architecture, Vite for fast builds, and TailwindCSS for styling.
  
### Backend
- **Technologies**: Python, Flask, Gunicorn with multi-worker support
- **Functionality**: Handles business logic, including API requests/responses and interaction with the database and queue system. Flask serves as the web framework due to its simplicity and flexibility, while Gunicorn is used in production for its ability to manage multiple workers.

### Database
- **Technology**: PostgreSQL (Supabase) with Row Level Security (RLS)
- **Functionality**: Stores all persistent data for the platform, including user data, documentation content, and task logs. Supabase adds a layer of real-time capabilities and security with RLS.

### Queue System
- **Technology**: Redis Queue (RQ) with worker heartbeat monitoring
- **Functionality**: Manages background tasks such as long-running code generation processes or documentation updates. RQ is chosen for its simplicity and integration ease with Python applications.

### Orchestration
- **Technology**: LangGraph for agent workflows
- **Functionality**: Organizes complex workflows between different autonomous agents within the platform. LangGraph helps in defining these workflows in a flexible manner.

### AI Component
- **Technology**: OpenAI GPT-4 for content generation
- **Functionality**: Powers the autonomous agent system to generate code snippets, FAQs, and manage documentation autonomously. Utilizes GPT-4 for its advanced understanding and generation capabilities.

### Deployment
- **Platform**: Render.com with CI/CD
- **Functionality**: Hosts the application and automates deployment processes. Render.com is chosen for its simplicity in setup and robust support for both frontend and backend technologies.

## Example: Adding a New Feature

To add a new feature to the MorningAI platform (e.g., a new integration), you would typically follow these steps:

1. **Frontend**:
   - Add UI components in `frontend/components` using React.
   - Style components with TailwindCSS classes.
   ```jsx
   // Example Component.jsx
   function NewFeatureComponent() {
     return <div className="p-4 max-w-sm mx-auto">New Feature</div>;
   }
   ```

2. **Backend**:
   - Create a new API endpoint in Flask within `backend/api`.
   - Implement business logic to interact with other services like database or queue.
   ```python
   # Example new_feature.py in backend/api
   from flask import Blueprint, jsonify
   
   new_feature_bp = Blueprint('new_feature', __name__)
   
   @new_feature_bp.route('/new-feature', methods=['GET'])
   def handle_new_feature():
       return jsonify({"message": "New Feature Endpoint"}), 200
   ```

3. **Database**:
   - Update the database schema via Supabase dashboard if necessary.
   - Apply Row Level Security policies as needed.

4. **Queue System**:
   - If the feature involves background processing, add a new task type in `backend/queue_tasks`.
   
5. **Orchestration & AI**:
   - Update LangGraph workflows if this feature interacts with autonomous agents.
   
6. **Deployment**:
    - Ensure all tests pass.
    - Push changes to your repository; CI/CD on Render.com will handle deployment.

## Troubleshooting Tips

1. **Deployment Issues**:
    - Check build logs on Render.com for specific error messages.
    - Ensure environment variables are correctly set up on Render.com.

2. **Database Connectivity**:
    - Verify that your Supabase project keys are correct and have not been rotated recently.
    - Ensure your application's IP is allowed if you've set IP restrictions.

3. **Queue Worker Failures**:
    - Review RQ worker logs for errors during task execution.
    - Confirm that Redis is accessible by workers; network policies might restrict access unexpectedly.

For more detailed documentation on each component or feature of MorningAI, please refer to the official documentation located within each module's directory in the RC918/morningai repository or visit [MorningAI Documentation](https://morningai.example.com/docs).

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `ac7d5f4d-9892-42b1-8666-3fc4e1bf5481`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
