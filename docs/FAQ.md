# System Architecture of MorningAI

MorningAI is designed as a scalable, multi-tenant Software as a Service (SaaS) platform, leveraging cutting-edge technologies to provide an autonomous agent system for code generation, FAQ generation, documentation management, multi-platform integration, real-time task orchestration, and vector memory storage. This document outlines the key components of MorningAI's system architecture to help developers understand and effectively use the platform.

## Core Components

### Frontend
- **Technology Stack**: The frontend is built using React for dynamic user interfaces, Vite as the build tool for faster development experience, and TailwindCSS for utility-first styling.
- **Architecture**: Implements a modular approach with components that interact with the backend via RESTful APIs or WebSocket connections for real-time features.

### Backend
- **Technology Stack**: Python with Flask serves as the backend framework, providing RESTful API endpoints. Gunicorn is used as the WSGI HTTP Server to manage multiple worker processes.
- **Concurrency & Scaling**: Utilizes Gunicorn's multi-worker support to handle concurrent requests efficiently.

### Database
- **Database Management System**: PostgreSQL hosted on Supabase, which also offers additional services like authentication and real-time subscriptions.
- **Features**: Incorporates Row Level Security (RLS) for enhanced data access control.

### Queue System
- **Technology**: Redis Queue (RQ) is employed for managing background tasks, ensuring tasks are processed asynchronously to improve request handling efficiency.
- **Monitoring**: Worker heartbeat monitoring is in place to ensure task processing reliability.

### Task Orchestration
- **Orchestration Tool**: LangGraph is used for orchestrating complex agent workflows, enabling autonomous decision-making capabilities within agents.

### AI Integration
- **AI Service**: Integrates OpenAI's GPT-4 for intelligent content generation, including code snippets and FAQ content.

### Deployment
- **Platform**: Hosted on Render.com, benefiting from its CI/CD capabilities for automated deployments and updates.

## Example: Adding a New Endpoint

To add a new API endpoint in the Flask application:

1. Navigate to the backend service directory: `src/backend/`
2. Create or update a Python file within the `routes` directory. For example:

```python
from flask import Blueprint, request

api_blueprint = Blueprint('api_blueprint', __name__)

@api_blueprint.route('/new-endpoint', methods=['POST'])
def new_endpoint():
    data = request.json
    # Process data
    return {"message": "Endpoint successfully added"}, 200
```

3. Register the blueprint in your application factory or main application file:

```python
from your_application.routes.your_new_file import api_blueprint

app.register_blueprint(api_blueprint)
```

4. Ensure your environment is configured correctly and dependencies are installed.

## Documentation Links

For more detailed information about each component:
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Flask Documentation](https://flask.palletsprojects.com/en/2.0.x/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Redis Queue Documentation](https://python-rq.org/docs/)
- [Supabase Documentation](https://supabase.io/docs)
- [Render.com CI/CD](https://render.com/docs)

## Troubleshooting Tips

1. **Backend Not Responding**:
   - Check Gunicorn worker logs for errors.
   - Ensure Redis Queue workers are running and not saturated with tasks.

2. **Database Connection Issues**:
   - Verify Supabase connection strings are correctly configured in your application settings.
   - Ensure Row Level Security policies do not inadvertently block legitimate queries.

3. **Frontend Build Failures**:
   - Confirm all Node.js dependencies are correctly installed and compatible.
   - Check Vite and TailwindCSS configuration files for errors.

By understanding MorningAI's system architecture and following these guidelines, developers can more effectively navigate and contribute to the platform's ecosystem.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `05f3608d-5035-4765-abad-1647212aceae`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
