# System Architecture of MorningAI

MorningAI employs a sophisticated multi-tenant SaaS architecture designed to deliver a seamless experience in autonomous code generation, documentation management, and real-time task orchestration across multiple platforms. This section provides an overview of the system's architecture, highlighting its core components, technology stack, and how they interact to facilitate the platform's functionality.

## Core Components

### Frontend
The frontend of MorningAI is built using **React** with **Vite** for an optimized development environment and bundled with **TailwindCSS** for styling. This setup ensures a responsive, fast, and visually appealing user interface.

- **Location**: `frontend/`
- **Technology Stack**: React, Vite, TailwindCSS

### Backend
The backend leverages **Python** with the **Flask** framework and **Gunicorn** as the WSGI HTTP Server to handle requests with multi-worker support for scalability.

- **Location**: `backend/`
- **Technology Stack**: Python, Flask, Gunicorn

### Database
MorningAI uses **PostgreSQL**, hosted on **Supabase** with Row Level Security (RLS) enabled, ensuring data integrity and security across tenants.

- **Location**: Configuration in `supabase/settings`
- **Integration Points**: Backend services (`backend/services/`)

### Queue System
For real-time task orchestration, MorningAI utilizes **Redis Queue (RQ)**. This system allows for efficient job processing by distributing tasks among available workers with heartbeat monitoring to ensure reliability.

- **Setup File**: `queue_init.py`
- **Usage Example**:
  ```python
  from redis import Redis
  from rq import Queue

  redis_conn = Redis()
  q = Queue(connection=redis_conn)
  result = q.enqueue('my_function', args=(arg1, arg2), timeout=600)
  ```

### Orchestration and AI
Task workflows are managed via **LangGraph**, which defines agent workflows within the platform. For content generation including FAQs like this one, MorningAI incorporates OpenAI's GPT-4.

- **Integration Code Path**: `backend/ai/`
- **Example Usage**:
  ```python
  from ai_integration import generate_content
  
  prompt = "Generate a summary for..."
  response = generate_content(prompt)
  ```

### Deployment
Deployment is handled through Render.com with continuous integration and continuous deployment (CI/CD) pipelines ensuring that updates are seamlessly rolled out to production.

- **Configuration Path**: `.render/render.yaml`

## Related Documentation Links

- React Documentation: [https://reactjs.org/docs/getting-started.html](https://reactjs.org/docs/getting-started.html)
- Flask Documentation: [https://flask.palletsprojects.com/en/2.0.x/](https://flask.palletsprojects.com/en/2.0.x/)
- RQ Documentation: [https://python-rq.org/docs/](https://python-rq.org/docs/)
- Supabase Documentation: [https://supabase.io/docs](https://supabase.io/docs)
- Render.com CI/CD Documentation: [https://render.com/docs](https://render.com/docs)

## Common Troubleshooting Tips

### Database Connectivity Issues
Ensure that your Supabase project keys are correctly set up in your environment variables or configuration files. Verify connectivity using psql or Supabase CLI.

### Worker Failures in Redis Queue (RQ)
Check the worker logs for any exceptions or errors during task execution. Ensure that Redis is running and accessible by your application servers.

### Deployment Failures on Render.com
Review the build logs on Render.com for specific error messages. Ensure your `render.yaml` file is correctly formatted and all required environment variables are properly set up in your Render dashboard.

By understanding the system architecture of MorningAI, developers can effectively navigate the codebase, integrate additional features, and troubleshoot potential issues that may arise during development or deployment.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `3083b043-7738-4ccc-9a49-540ff90e1e38`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
