# MorningAI System Architecture

MorningAI leverages a robust, scalable, and flexible system architecture designed to provide efficient autonomous agent systems for code generation, comprehensive FAQ generation, documentation management, and seamless multi-platform integration. The architecture supports real-time task orchestration and vector memory storage, ensuring high performance and reliability for all users.

## Overview

The MorningAI platform is built on a modern technology stack that includes:

- **Frontend**: Developed with React, utilizing Vite for build optimization and TailwindCSS for styling.
- **Backend**: Python and Flask serve as the core backend technologies, with Gunicorn used to manage multiple workers for enhanced performance.
- **Database**: PostgreSQL (via Supabase) offers robust data storage capabilities, enhanced by Row Level Security (RLS) for improved data protection.
- **Queue System**: Redis Queue (RQ) is employed for managing task queues, enabling efficient task processing through worker heartbeat monitoring.
- **Orchestration**: LangGraph is used for orchestrating agent workflows, ensuring tasks are executed in an orderly and efficient manner.
- **AI**: OpenAI's GPT-4 powers content generation, providing advanced capabilities for generating accurate and contextually relevant documents.
- **Deployment**: The platform utilizes Render.com for hosting, benefiting from its continuous integration and continuous deployment (CI/CD) capabilities.

### Detailed Breakdown

#### Frontend
- **Location**: `/frontend`
- **Tech Stack**:
  - React.js: For building the user interface
  - Vite: For fast development and build tooling
  - TailwindCSS: For utility-first styling

#### Backend
- **Location**: `/backend`
- **Tech Stack**:
  - Python + Flask: Core API development
  - Gunicorn: WSGI HTTP Server for UNIX, serving Flask applications with multiple workers
  - LangGraph: Workflow orchestration tool

#### Database
- **Location**: Managed through Supabase interface
- **Tech Stack**:
  - PostgreSQL: Primary database system
  - Supabase: Provides additional features like RLS and easy integration

#### Queue System
- **Location**: `/queue`
- **Tech Stack**:
  - Redis Queue (RQ): Task queue that integrates with Redis for managing background jobs

#### Deployment & CI/CD
- Hosted on Render.com with automatic deployments configured through GitHub integration. The CI/CD pipeline is defined in the `.render` directory.

### Code Examples

#### Starting a Worker with Gunicorn:
```bash
gunicorn --workers=3 myapp:app
```

#### Enqueuing a Job in RQ:
```python
from redis import Redis
from rq import Queue

q = Queue(connection=Redis())
job = q.enqueue('my_function', args=(arg1, arg2), timeout=600)
```

### Related Documentation Links

For more detailed information on each component of the system architecture:

- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Flask Documentation](https://flask.palletsprojects.com/en/2.0.x/)
- [Gunicorn Configuration](https://docs.gunicorn.org/en/stable/settings.html)
- [Supabase Documentation](https://supabase.io/docs)
- [Redis Queue (RQ) Documentation](https://python-rq.org/docs/)
- [Render.com CI/CD Documentation](https://render.com/docs)

### Common Troubleshooting Tips

**Issue:** Application not starting after deployment  
**Solution:** Check the Render.com service logs for any error messages related to dependencies or environment variables.

**Issue:** Tasks not being processed in RQ  
**Solution:** Ensure Redis is up and running. Verify that RQ workers are active and listening to the correct queues. Check worker logs for exceptions or errors.

**Issue:** Database connection issues  
**Solution:** Confirm that the database URL is correctly configured in your application settings. Ensure that your Supabase instance is running and accessible.

---

Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `58b83c6c-6bf3-40e3-89ed-4604bc950ece`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
