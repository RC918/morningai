# MorningAI System Architecture

MorningAI leverages a robust, scalable, and modular architecture designed to streamline the development and deployment of autonomous agent systems for code generation, FAQ generation, documentation management, and multi-platform integration. Below is an in-depth look at the core components of MorningAI's system architecture.

## Core Components

### Frontend

- **Technology Stack**: React with Vite for faster development and TailwindCSS for styling.
- **Implementation**: The frontend is designed as a single-page application (SPA) that interacts with the backend via RESTful APIs or WebSocket connections for real-time features.
- **Path**: `frontend/` directory within the repository.

**Example**:
```jsx
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';

function App() {
  return <div className="app">Welcome to MorningAI</div>;
}

ReactDOM.render(<App />, document.getElementById('root'));
```

### Backend

- **Technology Stack**: Python with Flask framework and Gunicorn as the WSGI HTTP Server.
- **Multi-worker Support**: Leveraging Gunicorn's ability to handle multiple workers for increased concurrency.
- **Path**: `backend/` directory.

**Example**:
```python
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello, MorningAI!'

if __name__ == '__main__':
    app.run()
```

### Database

- **Technology Stack**: PostgreSQL with Row Level Security (RLS) for data protection, utilizing Supabase for easy setup and management.
- **Vector Memory Storage**: Integration with pgvector for efficient vector operations within PostgreSQL.
- **Path**: Database schemas and migrations can be found under `db/` directory.

### Queue

- **Technology Stack**: Redis Queue (RQ) for managing background tasks and worker heartbeat monitoring to ensure reliability.
- **Usage**: Task orchestration and real-time operations handling.
  
**Example**:
```python
from rq import Queue
from redis import Redis
from my_module import count_words_at_url

redis_conn = Redis()
q = Queue(connection=redis_conn)

result = q.enqueue(count_words_at_url, 'http://nvie.com')
```

### Orchestration

- **Tool**: LangGraph is used for defining agent workflows in a flexible manner, allowing for complex task orchestration without hard-coding logic into the application.

### AI

- **Engine**: OpenAI GPT-4 is integrated for advanced content generation capabilities, enabling the autonomous creation of code snippets, FAQs, and documentation.

### Deployment

- **Platform**: Render.com with continuous integration and continuous deployment (CI/CD) setup ensures smooth deployment workflows and high availability of the MorningAI platform.

## Related Documentation Links

For further details on each component, refer to the following documentation:

- React: [https://reactjs.org/docs/getting-started.html](https://reactjs.org/docs/getting-started.html)
- Flask: [https://flask.palletsprojects.com/en/2.0.x/](https://flask.palletsprojects.com/en/2.0.x/)
- Gunicorn: [https://gunicorn.org/#docs](https://gunicorn.org/#docs)
- Supabase: [https://supabase.io/docs](https://supabase.io/docs)
- Redis Queue (RQ): [http://python-rq.org/docs/](http://python-rq.org/docs/)
- Render.com CI/CD: [https://render.com/docs/ci-cd](https://render.com/docs/ci-cd)

## Common Troubleshooting Tips

1. **Frontend Not Loading Changes**:
   - Ensure Vite is running in watch mode.
   - Check browser cache settings or force refresh (Ctrl + F5).
2. **Backend Connection Issues**:
   - Verify if Gunicorn is running and properly configured for multi-worker support.
   - Check Flask app logs for any error messages or warnings.
3. **Database Access Errors**:
   - Confirm that Row Level Security policies are correctly set up in PostgreSQL.
   - Ensure your database connection strings are up-to-date in your application configuration.
4. **Task Queues Not Processing**:
   - Check Redis server health and connectivity.
   - Ensure RQ workers are running and not stalled; restart if necessary.

For more detailed troubleshooting guides, visit the project's wiki or issue tracker on GitHub.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `f8b649a3-7687-41e1-a36f-b48cbc7136e6`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
