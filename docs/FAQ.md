# System Architecture of MorningAI

MorningAI is designed as a scalable, multi-tenant SaaS platform that leverages modern technologies to provide autonomous code generation, FAQ and documentation management, and seamless integration across multiple messaging platforms. The architecture is built to support real-time task orchestration and efficient memory storage for optimal performance and reliability. Below is a detailed explanation of the system architecture, including key components and their interactions.

## Core Components

### Frontend
- **Technologies Used**: React, Vite, TailwindCSS
- **Purpose**: Provides the user interface for interacting with MorningAI services.
- **Path in Repository**: `/frontend`
- **Example**:
  ```javascript
  import React from 'react';
  import ReactDOM from 'react-dom';
  import './index.css';
  import App from './App';

  ReactDOM.render(
    <React.StrictMode>
      <App />
    </React.StrictMode>,
    document.getElementById('root')
  );
  ```

### Backend
- **Technologies Used**: Python, Flask, Gunicorn with multi-worker support
- **Purpose**: Handles business logic, data processing, and serves API requests.
- **Path in Repository**: `/backend`
- **Configuration Example**:
  ```python
  from flask import Flask
  app = Flask(__name__)

  @app.route('/')
  def hello_world():
      return 'Hello, World!'
  
  if __name__ == '__main__':
      app.run()
  ```

### Database
- **Technology Used**: PostgreSQL (Supabase) with Row Level Security
- **Purpose**: Stores user data, agent configurations, and task execution logs securely.
- **Path in Repository**: Configuration details can be found under `/backend/config`.
  
### Queue System
- **Technology Used**: Redis Queue (RQ) with worker heartbeat monitoring
- **Purpose**: Manages task queues for asynchronous execution of tasks.
- **Example**:
  ```python
  from rq import Queue
  from redis import Redis
  redis_conn = Redis()
  q = Queue(connection=redis_conn)

  def background_task(n):
      """ Function that returns len(n) and simulates a delay """
      import time
      time.sleep(1)
      return len(n)

  job = q.enqueue(background_task, 'http://example.com')
  ```

### AI Integration
- **Technology Used**: OpenAI GPT-4 for content generation and LangGraph for agent workflows.
- **Purpose**: Powers the autonomous agent system for code generation and FAQ content creation.
  
### Deployment & CI/CD
- **Platform Used**: Render.com
- **Purpose**: Facilitates continuous integration and delivery for seamless updates to the MorningAI platform.

## Related Documentation Links

For more detailed information on each component:

1. [React Documentation](https://reactjs.org/docs/getting-started.html)
2. [Flask Documentation](https://flask.palletsprojects.com/en/2.0.x/)
3. [Supabase Documentation](https://supabase.io/docs)
4. [Redis Queue (RQ) Documentation](https://python-rq.org/docs/)
5. [OpenAI API Documentation](https://beta.openai.com/docs/)

## Common Troubleshooting Tips

### Backend Service Not Responding

Ensure Gunicorn is properly configured with workers set according to your server's capacity. Check `gunicorn.conf.py` for configurations.

### Database Connection Issues

Verify your Supabase credentials are correctly set in your backend configuration file. Ensure Row Level Security policies do not unintentionally block queries.

### Task Queue Delays

Monitor the Redis Queue dashboard for failed jobs or check the worker logs for errors. Ensure Redis is running and accessible by your backend service.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `235a9aca-7bbd-49ed-bb29-ed912c403b59`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
