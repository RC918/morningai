# System Architecture of MorningAI

MorningAI leverages a robust and scalable system architecture designed to provide seamless integration of autonomous agent systems for code generation, comprehensive FAQ generation, documentation management, and real-time task orchestration. This architecture supports multi-platform integration across Telegram, LINE, Messenger, and utilizes advanced technologies including Redis Queue for task management and pgvector/Supabase for vector memory storage.

## Overview

The system architecture of MorningAI is built around a microservices framework, ensuring high availability and scalability. The platform employs a combination of cutting-edge technologies tailored for efficient data processing, AI-driven content generation, and seamless user experience across different platforms.

### Frontend

- **Technology Stack**: ReactJS with Vite for an efficient development experience and TailwindCSS for styling.
- **Path**: `/frontend`
- **Code Example**: Setting up the React environment.
  ```javascript
  import React from 'react';
  import ReactDOM from 'react-dom';
  import './index.css';
  import App from './App';

  ReactDOM.render(
    <React.StrictMode>
      <App />
    </React.StrictMode>,
    document.getElementById('root')
  );
  ```

### Backend

- **Technology Stack**: Python with Flask as the web framework and Gunicorn serving as the WSGI HTTP server. Multi-worker support is enabled for handling concurrent requests efficiently.
- **Database Integration**: PostgreSQL through Supabase with Row Level Security (RLS) for data integrity and security.
- **Queue Management**: Redis Queue (RQ) is utilized for managing background tasks with worker heartbeat monitoring to ensure reliability.
- **Orchestration & AI**: LangGraph orchestrates agent workflows while OpenAI's GPT-4 powers content generation.
- **Path**: `/backend`
- **Code Example**: Flask application setup.
  ```python
  from flask import Flask
  app = Flask(__name__)

  @app.route('/')
  def hello_world():
      return 'Hello, World!'
  
  if __name__ == '__main__':
      app.run()
  ```

### Deployment

- Deployed on Render.com with continuous integration and continuous deployment (CI/CD) pipeline setup to ensure smooth deployments and updates.
- **Configuration Path**: `/render.yaml`

## Related Documentation Links

- [Flask Documentation](https://flask.palletsprojects.com/)
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [TailwindCSS Documentation](https://tailwindcss.com/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Redis Queue (RQ) Documentation](http://python-rq.org/docs/)
- [Render Deployment Guides](https://render.com/docs)

## Common Troubleshooting Tips

1. **Frontend Not Loading Changes**:
   - Ensure Vite is running in development mode. Check the console for any compilation errors.
   - Clear browser cache or try incognito mode to avoid loading cached versions.

2. **Backend Connection Issues**:
   - Verify that Gunicorn workers are running properly. Use `gunicorn --workers=3 app:app` command to start Gunicorn with multiple workers.
   - Check database connections in Supabase. Ensure that RLS policies do not unintentionally block access.

3. **Task Queue Delays**:
   - Monitor Redis Queue dashboard to check for stuck jobs or failed tasks.
   - Increase the number of workers if the workload exceeds current capacity.

4. **Deployment Failures on Render.com**:
   - Review build logs in Render Dashboard for specific error messages.
   - Ensure `render.yaml` is correctly configured according to Render's documentation.

This architecture is designed to be modular and scalable, catering to developers' needs ranging from autonomous code generation to sophisticated AI-driven content production. By leveraging this structure, MorningAI aims to provide a comprehensive solution that enhances productivity and fosters innovation.

---
Generated by MorningAI Orchestrator using GPT-4

---

**Metadata**:
- Task: What is the system architecture?
- Trace ID: `d65d7009-07d4-474f-a970-01f8f26a70aa`
- Generated by: MorningAI Orchestrator using gpt-4-turbo-preview
- Repository: RC918/morningai
