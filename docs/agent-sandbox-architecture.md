# ğŸ—ï¸ Morning AI Agent Sandbox æŠ€è¡“æ¶æ§‹è¨­è¨ˆ

**ç‰ˆæœ¬**: 1.0
**æ—¥æœŸ**: 2025-10-08
**ä½œè€…**: Devin AI (CTO)
**ç‹€æ…‹**: ææ¡ˆéšæ®µ (Proposal)

---

## ğŸ“‹ åŸ·è¡Œæ‘˜è¦

æœ¬æ–‡æª”æä¾›å®Œæ•´çš„ Agent Sandbox æŠ€è¡“æ¶æ§‹ï¼Œç›®æ¨™æ˜¯ç‚º Morning AI çš„ 15 å€‹ AI Agent é…å‚™ Devin ç´šçš„é€šç”¨è»Ÿé«”å·¥ç¨‹èƒ½åŠ›ï¼ˆå®Œæ•´ IDEã€Shellã€ç€è¦½å™¨å­˜å–ï¼‰ï¼Œä½¿å…¶èƒ½å¤ ç¨ç«‹èª¿æŸ¥ã€è¦åŠƒã€åŸ·è¡Œè¤‡é›œä»»å‹™ã€‚

---

## ğŸ” ä¸€ã€ç¾æ³åˆ†æ

### 1.1 ç¾æœ‰ Agent å¯¦ä½œç‹€æ…‹

ç¶“éæ·±åº¦ä»£ç¢¼åº«èª¿æŸ¥ï¼Œä»¥ä¸‹æ˜¯ç¾æœ‰ Agent çš„å¯¦éš›å¯¦ä½œç‹€æ…‹ï¼š

| Agent | å¯¦ä½œæª”æ¡ˆ | ç¨‹å¼ç¢¼è¡Œæ•¸ | æ ¸å¿ƒèƒ½åŠ› | Devin ç´šèƒ½åŠ› |
|-------|---------|-----------|---------|-------------|
| **Ops_Agent** | `ops_agent.py` | 171 | æ€§èƒ½ç›£æ§ã€å®¹é‡åˆ†æã€è‡ªå‹•æ“´ç¸®å®¹ | âŒ ç„¡ |
| **PM_Agent** | `pm_agent.py` | 271 | Beta ç”¨æˆ¶ç®¡ç†ã€ç”¨æˆ¶åé¥‹åˆ†æã€æ•…äº‹ç”Ÿæˆ | âŒ ç„¡ |
| **Meta-Agent** | `meta_agent_decision_hub.py` | 558 | OODA å¾ªç’°æ±ºç­–ã€Agent å”èª¿ | âŒ ç„¡ |
| **Dev_Agent** | âŒ ä¸å­˜åœ¨ | 0 | - | âŒ ç„¡ |
| **å…¶ä»– Agent** | âŒ åƒ…æ–‡æª”æåŠ | 0 | - | âŒ ç„¡ |

**é—œéµç™¼ç¾**:
- âœ… **Ops_Agent** å’Œ **PM_Agent** å·²å¯¦ä½œï¼Œä½†åƒ…ç‚ºç°¡å–®çš„ Python é¡åˆ¥
- âŒ **Dev_Agent** å®Œå…¨ä¸å­˜åœ¨ï¼ˆå„˜ç®¡æ–‡æª”ä¸­å¤šæ¬¡æåŠï¼‰
- âš ï¸ æ‰€æœ‰ç¾æœ‰ Agent éƒ½ç¼ºä¹ï¼š
  - ç¨ç«‹çš„åŸ·è¡Œç’°å¢ƒï¼ˆVM/Containerï¼‰
  - IDE/Shell/Browser å­˜å–èƒ½åŠ›
  - é•·æœŸè¨˜æ†¶èˆ‡ä¸Šä¸‹æ–‡ç®¡ç†
  - å·¥å…·å‘¼å«èƒ½åŠ›ï¼ˆMCP æ•´åˆï¼‰

### 1.2 ç¾æœ‰ç·¨æ’æ¶æ§‹

```
Meta-Agent (OODA Loop)
    â†“
LangGraph Orchestrator (handoff/40_App/orchestrator/graph.py)
    â†“
Redis Queue (RQ Worker)
    â†“
Simple Python Agents (ops_agent.py, pm_agent.py)
```

**é™åˆ¶**:
- Agent åªæ˜¯æ™®é€šçš„ Python å‡½æ•¸/é¡åˆ¥
- ç„¡æ²™ç®±éš”é›¢
- ç„¡æŒä¹…åŒ–åŸ·è¡Œç’°å¢ƒ
- ç„¡å·¥å…·å­˜å–èƒ½åŠ›

---

## ğŸ¯ äºŒã€è©¦é» Agent å»ºè­°

### 2.1 æ¨è–¦ï¼šå„ªå…ˆå¯¦ä½œ **Ops_Agent**

**ç†ç”±**:

| è©•ä¼°ç¶­åº¦ | Ops_Agent | Dev_Agent (ä¸å­˜åœ¨) | PM_Agent |
|---------|-----------|-------------------|----------|
| **å¯¦ä½œåŸºç¤** | âœ… å·²æœ‰ 171 è¡Œä»£ç¢¼ | âŒ å¾é›¶é–‹å§‹ | âœ… å·²æœ‰ 271 è¡Œä»£ç¢¼ |
| **æŠ€è¡“è¤‡é›œåº¦** | ğŸŸ¡ ä¸­ç­‰ | ğŸ”´ é«˜ | ğŸŸ¢ ä½ |
| **æ¥­å‹™å½±éŸ¿** | ğŸ”´ é«˜ (ç³»çµ±ç©©å®šæ€§) | ğŸ”´ é«˜ (é–‹ç™¼æ•ˆç‡) | ğŸŸ¡ ä¸­ç­‰ (ç”¢å“è¦åŠƒ) |
| **å·¥å…·éœ€æ±‚** | Shellã€ç›£æ§å·¥å…· | IDEã€Gitã€Shellã€Browser | è¼ƒå°‘å·¥å…·éœ€æ±‚ |
| **å­¸ç¿’æ›²ç·š** | ğŸŸ¡ DevOps çŸ¥è­˜ | ğŸ”´ å®Œæ•´é–‹ç™¼æŠ€èƒ½ | ğŸŸ¢ ç”¢å“ç®¡ç† |
| **é¢¨éšªç­‰ç´š** | ğŸŸ¡ ä¸­ç­‰ | ğŸ”´ é«˜ | ğŸŸ¢ ä½ |

**é¸æ“‡ Ops_Agent çš„é—œéµå„ªå‹¢**:

1. **å·²æœ‰å¯¦ä½œåŸºç¤** âœ…
   - 171 è¡Œç¾æœ‰ä»£ç¢¼å¯æ“´å±•
   - æ˜ç¢ºçš„åŠŸèƒ½é‚Šç•Œï¼ˆç›£æ§ã€æ“´ç¸®å®¹ã€å‘Šè­¦ï¼‰
   - èˆ‡ Meta-Agent OODA å¾ªç’°å·²æ•´åˆ

2. **å·¥å…·éœ€æ±‚æ˜ç¢º** ğŸ› ï¸
   - Shell å­˜å–ï¼šåŸ·è¡Œ `kubectl`, `docker`, `curl` ç­‰æŒ‡ä»¤
   - ç›£æ§æ•´åˆï¼šSentryã€Prometheusã€Grafana API
   - é›²ç«¯ APIï¼šRenderã€AWSã€Vercel API

3. **åƒ¹å€¼ç«‹å³å¯è¦‹** ğŸ’°
   - è‡ªå‹•åŒ–äº‹ä»¶éŸ¿æ‡‰ï¼ˆ5xx éŒ¯èª¤ â†’ è‡ªå‹•é‡å•Ÿæœå‹™ï¼‰
   - æ™ºèƒ½æ“´ç¸®å®¹æ±ºç­–ï¼ˆæ ¹æ“šè² è¼‰è‡ªå‹•èª¿æ•´ï¼‰
   - æˆæœ¬å„ªåŒ–ï¼ˆé–’ç½®è³‡æºè‡ªå‹•ç¸®æ¸›ï¼‰

4. **é¢¨éšªå¯æ§** ğŸ›¡ï¸
   - Ops æ“ä½œå¯è¨­å®š HITLï¼ˆHuman-in-the-Loopï¼‰å¯©æ‰¹
   - æœ‰æ˜ç¢ºçš„å›æ»¾æ©Ÿåˆ¶
   - å½±éŸ¿ç¯„åœæ¸…æ™°

### 2.2 ç¬¬äºŒéšæ®µï¼šDev_Agent

**ç‚ºä½•ä¸å„ªå…ˆ Dev_Agent**:
- âŒ ç›®å‰å®Œå…¨ä¸å­˜åœ¨ï¼Œéœ€å¾é›¶é–‹å§‹
- ğŸ”´ æŠ€è¡“è¤‡é›œåº¦æ¥µé«˜ï¼ˆéœ€è¦å®Œæ•´çš„ IDEã€Gitã€æ¸¬è©¦ç’°å¢ƒï¼‰
- âš ï¸ éŒ¯èª¤å½±éŸ¿ç¯„åœå¤§ï¼ˆå¯èƒ½ç ´å£ä»£ç¢¼åº«ï¼‰

**å»ºè­°æ™‚ç¨‹**:
- **Phase 1** (Q4 2025): Ops_Agent Sandbox è©¦é»
- **Phase 2** (Q1 2026): Dev_Agent Sandbox å¯¦ä½œ

---

## ğŸ—ï¸ ä¸‰ã€Agent Sandbox æŠ€è¡“æ¶æ§‹

### 3.1 æ ¸å¿ƒæ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Meta-Agent OODA Loop                      â”‚
â”‚         (æ±ºç­–ä¸­æ¨ - meta_agent_decision_hub.py)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Agent Sandbox Manager (æ–°å¢)                    â”‚
â”‚  - Sandbox ç”Ÿå‘½é€±æœŸç®¡ç†                                       â”‚
â”‚  - è³‡æºåˆ†é…èˆ‡å›æ”¶                                             â”‚
â”‚  - å®‰å…¨ç­–ç•¥åŸ·è¡Œ                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ops_Agent   â”‚  â”‚  Dev_Agent   â”‚  â”‚  PM_Agent    â”‚
â”‚   Sandbox    â”‚  â”‚   Sandbox    â”‚  â”‚   Sandbox    â”‚
â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Shell   â”‚ â”‚  â”‚ â”‚   IDE    â”‚ â”‚  â”‚ â”‚ Browser  â”‚ â”‚
â”‚ â”‚ Browser  â”‚ â”‚  â”‚ â”‚  Shell   â”‚ â”‚  â”‚ â”‚  Shell   â”‚ â”‚
â”‚ â”‚ MCP SDK  â”‚ â”‚  â”‚ â”‚  Git     â”‚ â”‚  â”‚ â”‚ MCP SDK  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚ Browser  â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â”‚  â”‚ â”‚ MCP SDK  â”‚ â”‚  â”‚              â”‚
â”‚ Container/VM â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ Container/VM â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Container/VM â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æŠ€è¡“æ£§é¸æ“‡

#### 3.2.1 æ²™ç®±ç’°å¢ƒï¼šå®¹å™¨ vs è™›æ“¬æ©Ÿ

| æ–¹æ¡ˆ | å„ªé» | ç¼ºé» | æ¨è–¦åº¦ |
|------|------|------|--------|
| **Docker Container** | ğŸŸ¢ å•Ÿå‹•å¿« (1-3s)<br/>ğŸŸ¢ è³‡æºæ•ˆç‡é«˜<br/>ğŸŸ¢ æ˜“æ–¼ç·¨æ’ (K8s) | ğŸ”´ éš”é›¢æ€§è¼ƒå¼±<br/>ğŸ”´ é›£ä»¥åŸ·è¡Œç‰¹æ¬Šæ“ä½œ | â­â­â­ |
| **Firecracker microVM** | ğŸŸ¢ éš”é›¢æ€§å¼·<br/>ğŸŸ¢ å•Ÿå‹•å¿« (125ms)<br/>ğŸŸ¢ è³‡æºæ•ˆç‡é«˜ | ğŸ”´ é…ç½®è¤‡é›œ<br/>ğŸ”´ ç”Ÿæ…‹è¼ƒå° | â­â­â­â­â­ |
| **Full VM (QEMU/KVM)** | ğŸŸ¢ æœ€å¼·éš”é›¢æ€§<br/>ğŸŸ¢ å®Œæ•´ OS ç’°å¢ƒ | ğŸ”´ å•Ÿå‹•æ…¢ (30s+)<br/>ğŸ”´ è³‡æºæ¶ˆè€—å¤§ | â­â­ |

**æ¨è–¦æ–¹æ¡ˆ**: **Firecracker microVM** ğŸ¯

**ç†ç”±**:
- AWS Lambda å’Œ Fargate ä½¿ç”¨çš„åŒæ¬¾æŠ€è¡“
- å•Ÿå‹•é€Ÿåº¦æ¥è¿‘å®¹å™¨ï¼Œå®‰å…¨æ€§æ¥è¿‘ VM
- æ¯å€‹ Agent å¯æ“æœ‰å®Œæ•´çš„ Linux ç’°å¢ƒ
- æ”¯æ´ Renderã€Fly.io ç­‰å¹³å°éƒ¨ç½²

#### 3.2.2 Docker å®‰å…¨é…ç½®

**Dockerfile ç¯„ä¾‹ï¼ˆOps_Agent Sandboxï¼‰**:
```dockerfile
FROM python:3.11-slim

# Install system dependencies
RUN apt-get update && apt-get install -y \
    curl git bash jq ca-certificates \
    && rm -rf /var/lib/apt/lists/*

# Install Playwright for browser automation
RUN pip install playwright==1.40.0 && \
    playwright install chromium && \
    playwright install-deps chromium

# Create non-root user
RUN useradd -m -u 1001 agentuser && \
    mkdir -p /workspace && \
    chown agentuser:agentuser /workspace

WORKDIR /home/agentuser

# Copy and install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy MCP client code
COPY mcp_client.py .
COPY ops_agent_sandbox.py .

USER agentuser

HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:8080/health || exit 1

CMD ["python", "mcp_client.py"]
```

**Docker è³‡æºé™åˆ¶é…ç½®**:
```yaml
services:
  ops-agent-sandbox:
    build: ./sandbox/ops_agent
    
    # Resource limits
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 2048M
          pids: 100
    
    # Security options
    security_opt:
      - no-new-privileges:true
      - seccomp=default
    cap_drop:
      - ALL
    cap_add:
      - NET_BIND_SERVICE
    read_only: true
    tmpfs:
      - /tmp:size=1G,mode=1777
    
    volumes:
      - agent-workspace:/workspace:rw
    
    environment:
      - AGENT_ID=ops-agent-001
      - MCP_SERVER_URL=http://mcp-server:8080
```

#### 3.2.3 MCP (Model Context Protocol) æ•´åˆ

**MCP Client æ¶æ§‹ï¼ˆAgent ç«¯ï¼‰**:
```python
class MCPClient:
    """MCP client for agent-side tool access"""
    
    async def call_tool(self, tool_name: str, params: dict):
        """Call a tool via MCP protocol (JSON-RPC 2.0)"""
        request = {
            "jsonrpc": "2.0",
            "method": "tools/call",
            "params": {"name": tool_name, "arguments": params},
            "id": self.agent_id
        }
        # Send to MCP server...
```

**MCP Server æ¶æ§‹ï¼ˆHost ç«¯ï¼‰**:
```
Docker Host
    â†“
MCP Server (aiohttp)
    â”œâ”€ JSON-RPC 2.0 Protocol Handler
    â”œâ”€ HITL Gate (é«˜é¢¨éšªæ“ä½œå¯©æ‰¹)
    â””â”€ Tool Implementations:
        â”œâ”€ ShellTool: åŸ·è¡Œ bash æŒ‡ä»¤
        â”œâ”€ BrowserTool: Playwright ç€è¦½å™¨æ§åˆ¶
        â”œâ”€ RenderTool: Render API æ•´åˆ
        â””â”€ SentryTool: Sentry API æ•´åˆ
```

### 3.3 å®‰å…¨æ¨¡å‹

#### 3.3.1 å¤šå±¤é˜²ç¦¦

```
Layer 1: Network Isolation (VPC/Firewall)
    â†“
Layer 2: Resource Limits (CPU/Memory/Disk)
    â†“
Layer 3: Capability-based Security (seccomp/AppArmor)
    â†“
Layer 4: Audit Logging (æ‰€æœ‰æ“ä½œè¨˜éŒ„)
    â†“
Layer 5: HITL Gates (é«˜é¢¨éšªæ“ä½œéœ€äººå·¥å¯©æ‰¹)
```

#### 3.3.2 è³‡æºé™åˆ¶

```yaml
# æ¯å€‹ Agent Sandbox çš„è³‡æºé…é¡
resources:
  cpu: "1.0"          # 1 vCPU
  memory: "2Gi"       # 2GB RAM
  disk: "10Gi"        # 10GB è‡¨æ™‚å„²å­˜
  network:
    egress: "100Mbps" # å‡ºç«™é »å¯¬
  timeout:
    idle: "30m"       # é–’ç½® 30 åˆ†é˜è‡ªå‹•å›æ”¶
    max: "2h"         # æœ€é•·åŸ·è¡Œ 2 å°æ™‚
```

#### 3.3.3 HITL (Human-in-the-Loop) ç­–ç•¥

```python
# é«˜é¢¨éšªæ“ä½œéœ€è¦äººå·¥å¯©æ‰¹
HITL_REQUIRED_OPERATIONS = {
    'ops_agent': [
        'delete_resource',      # åˆªé™¤è³‡æº
        'scale_down_to_zero',   # ç¸®å®¹è‡³ 0
        'modify_production_db', # ä¿®æ”¹ç”Ÿç”¢è³‡æ–™åº«
    ],
    'dev_agent': [
        'merge_to_main',        # åˆä½µè‡³ä¸»åˆ†æ”¯
        'force_push',           # å¼·åˆ¶æ¨é€
        'delete_branch',        # åˆªé™¤åˆ†æ”¯
    ]
}
```

---

## ğŸ’° å››ã€æˆæœ¬åˆ†æ

### 4.1 åŸºç¤è¨­æ–½æˆæœ¬

#### æ–¹æ¡ˆ Aï¼šFirecracker on Render/Fly.io

| è³‡æºé¡å‹ | å–®ä½æˆæœ¬ | æ•¸é‡ (15 Agents) | æœˆæˆæœ¬ |
|---------|---------|-----------------|--------|
| **Compute (1 vCPU, 2GB)** | $7/mo | 15 | $105 |
| **Storage (10GB)** | $0.15/GB/mo | 150GB | $22.50 |
| **Network (100GB egress)** | $0.10/GB | 100GB/agent | $150 |
| **Redis (Orchestration)** | $15/mo | 1 | $15 |
| **PostgreSQL (State)** | $25/mo | 1 | $25 |
| **Load Balancer** | $10/mo | 1 | $10 |
| **ç¸½è¨ˆ** | - | - | **$327.50/æœˆ** |

#### æ–¹æ¡ˆ Bï¼šåƒ…è©¦é» Ops_Agent (å–®ä¸€ Agent)

| è³‡æºé¡å‹ | æœˆæˆæœ¬ |
|---------|--------|
| Ops_Agent Sandbox (1 vCPU, 2GB) | $7 |
| Storage (10GB) | $1.50 |
| Network (10GB egress) | $1 |
| **ç¸½è¨ˆ** | **$9.50/æœˆ** |

**å»ºè­°**: å¾æ–¹æ¡ˆ B é–‹å§‹ (å–®ä¸€ Ops_Agent è©¦é»)ï¼Œé©—è­‰æ¶æ§‹å¾Œå†æ“´å±•è‡³å…¨éƒ¨ 15 å€‹ Agentã€‚

### 4.2 é–‹ç™¼æˆæœ¬ä¼°ç®—

| éšæ®µ | å·¥ä½œé … | é ä¼°å·¥æ™‚ | å„ªå…ˆç´š |
|------|--------|---------|--------|
| **Phase 1: Ops_Agent è©¦é»** | | | |
| 1.1 Agent Sandbox Manager | 40h | P0 |
| 1.2 Firecracker ç’°å¢ƒé…ç½® | 24h | P0 |
| 1.3 MCP Client/Server å¯¦ä½œ | 32h | P0 |
| 1.4 Shell/Browser å·¥å…·æ•´åˆ | 24h | P0 |
| 1.5 å®‰å…¨ç­–ç•¥èˆ‡è³‡æºé™åˆ¶ | 16h | P0 |
| 1.6 HITL å¯©æ‰¹æ©Ÿåˆ¶ | 20h | P1 |
| 1.7 ç›£æ§èˆ‡å‘Šè­¦ | 16h | P1 |
| 1.8 æ¸¬è©¦èˆ‡æ–‡æª” | 24h | P1 |
| **Phase 1 å°è¨ˆ** | **196h (~5 é€±)** | |
| | | |
| **Phase 2: Dev_Agent æ“´å±•** | | | |
| 2.1 IDE ç’°å¢ƒ (VS Code Server) | 32h | P0 |
| 2.2 Git æ•´åˆèˆ‡ GitHub API | 24h | P0 |
| 2.3 æ¸¬è©¦ç’°å¢ƒ (Jest, Pytest) | 20h | P1 |
| 2.4 CI/CD æ•´åˆ | 16h | P1 |
| **Phase 2 å°è¨ˆ** | **92h (~2.5 é€±)** | |
| | | |
| **Phase 3: å…¨é¢æ¨å»£ (15 Agents)** | | | |
| 3.1 Sandbox Manager æ“´å±• | 24h | P0 |
| 3.2 è³‡æºèª¿åº¦å„ªåŒ– | 20h | P1 |
| 3.3 æˆæœ¬ç›£æ§èˆ‡å„ªåŒ– | 16h | P1 |
| **Phase 3 å°è¨ˆ** | **60h (~1.5 é€±)** | |
| | | |
| **ç¸½è¨ˆ** | **348h (~9 é€±)** | |

---

## ğŸ› ï¸ äº”ã€å¯¦ä½œè·¯å¾‘

### 5.1 Phase 1: Ops_Agent Sandbox è©¦é» (6 é€±)

#### Week 1-2: åŸºç¤è¨­æ–½

```
âœ… ä»»å‹™ 1.1: Agent Sandbox Manager æ ¸å¿ƒ
  - è¨­è¨ˆ Sandbox ç”Ÿå‘½é€±æœŸ API
  - å¯¦ä½œ create_sandbox(), destroy_sandbox()
  - Docker å®¹å™¨ç®¡ç†èˆ‡è³‡æºé™åˆ¶

âœ… ä»»å‹™ 1.2: Docker ç’°å¢ƒé…ç½®
  - å»ºç«‹ Ops_Agent Dockerfile
  - é…ç½®å®‰å…¨ç­–ç•¥ (seccomp, AppArmor, capabilities)
  - è³‡æºé™åˆ¶ (cgroups: CPU, memory, disk, network)
  - ç¶²è·¯éš”é›¢è¨­ç½®
```

#### Week 3-4: MCP æ•´åˆ

```
âœ… ä»»å‹™ 1.3: MCP Protocol å¯¦ä½œ
  - MCP Client (Agent ç«¯)
  - MCP Server (å·¥å…·æä¾›ç«¯)
  - JSON-RPC é€šè¨Šå±¤

âœ… ä»»å‹™ 1.4: å·¥å…·å¯¦ä½œ
  - ShellTool (bash æŒ‡ä»¤åŸ·è¡Œ)
  - BrowserTool (Playwright)
  - RenderTool (Render API)
  - SentryTool (Sentry API)
```

#### Week 5-6: å®‰å…¨èˆ‡æ¸¬è©¦

```
âœ… ä»»å‹™ 1.5: å®‰å…¨ç­–ç•¥
  - Resource limits (cgroups)
  - Network isolation (iptables)
  - Seccomp profiles

âœ… ä»»å‹™ 1.6: HITL æ©Ÿåˆ¶
  - é«˜é¢¨éšªæ“ä½œè­˜åˆ¥
  - Slack å¯©æ‰¹æµç¨‹
  - è¶…æ™‚è™•ç†

âœ… ä»»å‹™ 1.7: E2E æ¸¬è©¦
  - Ops_Agent è‡ªå‹•åŒ–äº‹ä»¶éŸ¿æ‡‰æ¸¬è©¦
  - è³‡æºé™åˆ¶é©—è­‰
  - å®‰å…¨ç­–ç•¥é©—è­‰
```

### 5.2 Phase 2: Dev_Agent æ“´å±• (3 é€±)

```
Week 7-8: IDE èˆ‡ Git æ•´åˆ
  - VS Code Server æ•´åˆ
  - Git æŒ‡ä»¤èˆ‡ GitHub API
  - Code review è‡ªå‹•åŒ–

Week 9: æ¸¬è©¦èˆ‡æ–‡æª”
  - Dev_Agent E2E æ¸¬è©¦
  - é–‹ç™¼è€…æ–‡æª”
  - æœ€ä½³å¯¦è¸æŒ‡å—
```

### 5.3 Phase 3: å…¨é¢æ¨å»£ (2 é€±)

```
Week 10: æ“´å±•è‡³å…¶ä»– Agent
  - PM_Agent Sandbox
  - Support_Agent Sandbox
  - å…¶ä»– Agent é€æ­¥ä¸Šç·š

Week 11: å„ªåŒ–èˆ‡ç›£æ§
  - æˆæœ¬ç›£æ§å„€è¡¨æ¿
  - æ€§èƒ½å„ªåŒ–
  - SLA å®šç¾©
```

---

## ğŸ“Š å…­ã€æŠ€è¡“å‚µå‹™èˆ‡é¢¨éšª

### 6.1 æŠ€è¡“å‚µå‹™

| å‚µå‹™é …ç›® | å½±éŸ¿ | ç·©è§£ç­–ç•¥ |
|---------|------|---------|
| **Dev_Agent ç¼ºå¤±** | ğŸ”´ é«˜ | Phase 2 å„ªå…ˆå¯¦ä½œ |
| **ç¼ºä¹ Agent é•·æœŸè¨˜æ†¶** | ğŸŸ¡ ä¸­ | æ•´åˆ pgvector (å·²æœ‰) |
| **ç°¡æ˜“çš„ LangGraph ç·¨æ’** | ğŸŸ¡ ä¸­ | æ“´å±• graph.py åŠŸèƒ½ |
| **ç„¡ Agent ç›£æ§å„€è¡¨æ¿** | ğŸŸ¡ ä¸­ | ä½¿ç”¨ Sentry + Grafana |

### 6.2 é¢¨éšªè©•ä¼°

| é¢¨éšª | æ©Ÿç‡ | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|------|------|---------|
| **Docker éš”é›¢æ€§è¼ƒå¼±** | ğŸŸ¡ ä¸­ | ğŸŸ¡ ä¸­ | å¤šå±¤å®‰å…¨ç­–ç•¥ + HITL å¯©æ‰¹ |
| **è³‡æºæˆæœ¬è¶…æ”¯** | ğŸŸ¡ ä¸­ | ğŸŸ¡ ä¸­ | è³‡æºé™åˆ¶ + è‡ªå‹•å›æ”¶ |
| **Agent æ“ä½œéŒ¯èª¤** | ğŸŸ¢ ä½ | ğŸ”´ é«˜ | HITL + å¯©è¨ˆæ—¥èªŒ |
| **æ€§èƒ½ç“¶é ¸** | ğŸŸ¡ ä¸­ | ğŸŸ¡ ä¸­ | Pre-warmed pool + å¿«å– |

---

## ğŸ¯ ä¸ƒã€é—œéµæ±ºç­–é»

### æ±ºç­– 1: è©¦é» Agent é¸æ“‡
**å»ºè­°**: âœ… **Ops_Agent**
**ç†ç”±**: å·²æœ‰å¯¦ä½œåŸºç¤ã€å·¥å…·éœ€æ±‚æ˜ç¢ºã€é¢¨éšªå¯æ§

### æ±ºç­– 2: æ²™ç®±æŠ€è¡“é¸æ“‡
**å»ºè­°**: âœ… **Docker Container + åš´æ ¼å®‰å…¨ç­–ç•¥**
**ç†ç”±**: Render å¹³å°ç›¸å®¹æ€§ã€æˆç†Ÿç”Ÿæ…‹ã€è¶³å¤ å®‰å…¨æ€§

### æ±ºç­– 3: MCP æ•´åˆæ–¹å¼
**å»ºè­°**: âœ… **è‡ªå»º MCP Server**
**ç†ç”±**: å®Œå…¨æ§åˆ¶ã€æ˜“æ–¼æ“´å±•ã€ç¬¦åˆç¾æœ‰æ¶æ§‹

### æ±ºç­– 4: æ¨å»£ç­–ç•¥
**å»ºè­°**: âœ… **é€æ­¥æ¨å»£ (Ops â†’ Dev â†’ å…¶ä»–)**
**ç†ç”±**: é™ä½é¢¨éšªã€æŒçºŒé©—è­‰ã€æˆæœ¬å¯æ§

---

## ğŸ“š å…«ã€åƒè€ƒè³‡æ–™

### 8.1 æŠ€è¡“æ–‡æª”
- [Firecracker GitHub](https://github.com/firecracker-microvm/firecracker)
- [MCP Specification](https://modelcontextprotocol.io/)
- [Devin Technical Blog](https://www.cognition.ai/blog)

### 8.2 ç¾æœ‰ç³»çµ±æ–‡æª”
- `ops_agent.py` - Ops_Agent ç¾æœ‰å¯¦ä½œ
- `meta_agent_decision_hub.py` - Meta-Agent OODA å¾ªç’°
- `handoff/40_App/orchestrator/graph.py` - LangGraph ç·¨æ’å™¨
- `render.yaml` - ç¾æœ‰éƒ¨ç½²é…ç½®

---

## ğŸ¤ ä¹ã€ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³è¡Œå‹• (æœ¬é€±)
1. âœ… **ç²å¾—æ¶æ§‹æ‰¹å‡†** - èˆ‡ Ryan è¨è«–ä¸¦ç¢ºèªæŠ€è¡“æ–¹æ¡ˆ
2. â³ **çµ„å»ºåœ˜éšŠ** - åˆ†é… Phase 1 ä»»å‹™
3. â³ **ç’°å¢ƒæº–å‚™** - é…ç½® Firecracker é–‹ç™¼ç’°å¢ƒ

### è¿‘æœŸè¡Œå‹• (2 é€±å…§)
4. â³ **å¯¦ä½œ Agent Sandbox Manager** - æ ¸å¿ƒåŸºç¤è¨­æ–½
5. â³ **MCP å”è­°æ•´åˆ** - Client/Server å¯¦ä½œ
6. â³ **Ops_Agent è©¦é»** - ç¬¬ä¸€å€‹å…·å‚™ Devin ç´šèƒ½åŠ›çš„ Agent

### ä¸­æœŸç›®æ¨™ (6 é€±å…§)
7. â³ **Phase 1 å®Œæˆ** - Ops_Agent Sandbox ä¸Šç·š
8. â³ **å•Ÿå‹• Phase 2** - Dev_Agent é–‹ç™¼

---

## ğŸ“ è¯çµ¡è³‡è¨Š

**æŠ€è¡“è² è²¬äºº**: Devin AI (CTO)
**Devin Session**: https://app.devin.ai/sessions/fa70d2a68be34ac8bd0570d284d4515a
**GitHub**: @RC918
**æ—¥æœŸ**: 2025-10-08

---

**çµèª**:

é€™ä»½æ¶æ§‹è¨­è¨ˆæä¾›äº†å¾è©¦é»åˆ°å…¨é¢æ¨å»£çš„å®Œæ•´è·¯å¾‘ã€‚é€šé Ops_Agent ä½œç‚ºè©¦é»ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ 6 é€±å…§é©—è­‰æ ¸å¿ƒæŠ€è¡“æ£§ï¼Œä¸¦ç‚ºå¾ŒçºŒçš„ Dev_Agent å’Œå…¶ä»– Agent å¥ å®šå …å¯¦åŸºç¤ã€‚

é—œéµæˆåŠŸå› ç´ ï¼š
- âœ… é¸æ“‡å·²æœ‰å¯¦ä½œåŸºç¤çš„ Ops_Agent ä½œç‚ºè©¦é»
- âœ… ä½¿ç”¨ Firecracker microVM å¹³è¡¡å®‰å…¨èˆ‡æ€§èƒ½
- âœ… è‡ªå»º MCP Server å®Œå…¨æŒæ§å·¥å…·ç”Ÿæ…‹
- âœ… HITL æ©Ÿåˆ¶ç¢ºä¿é«˜é¢¨éšªæ“ä½œå®‰å…¨
- âœ… é€æ­¥æ¨å»£ç­–ç•¥æ§åˆ¶æˆæœ¬èˆ‡é¢¨éšª

å»ºè­° Ryan å„ªå…ˆå¯©é–±ä»¥ä¸‹é—œéµç« ç¯€ï¼š
1. **ç¬¬äºŒç«  - è©¦é» Agent å»ºè­°**: ç‚ºä½•é¸æ“‡ Ops_Agent
2. **ç¬¬ä¸‰ç«  - æŠ€è¡“æ¶æ§‹**: Firecracker + MCP æ•´åˆæ–¹æ¡ˆ
3. **ç¬¬å››ç«  - æˆæœ¬åˆ†æ**: è©¦é»åƒ…éœ€ $9.50/æœˆ
4. **ç¬¬äº”ç«  - å¯¦ä½œè·¯å¾‘**: 6 é€±å®Œæˆ Phase 1

æœŸå¾…æ‚¨çš„åé¥‹èˆ‡æ‰¹å‡†ï¼Œè®“æˆ‘å€‘é–‹å§‹é€™å€‹æ¿€å‹•äººå¿ƒçš„æŠ€è¡“å‡ç´šï¼ğŸš€
