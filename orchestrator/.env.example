# Orchestrator API Environment Variables

# ============================================
# REQUIRED - Security (Must be set in production)
# ============================================

# JWT Secret Key (REQUIRED)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
ORCHESTRATOR_JWT_SECRET=your-secret-key-here-min-32-chars

# API Keys for authentication (comma-separated)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
ORCHESTRATOR_API_KEYS=key1,key2,key3

# ============================================
# REQUIRED - Redis Configuration
# ============================================

# Redis URL for task queue and rate limiting
# Security: secret
# Example (non-TLS): redis://localhost:6379/0
# Example (TLS): rediss://user:pass@host:6380/0
# Note: Use rediss:// (double 's') for TLS-encrypted connections
# Recommendation: Use UPSTASH_REDIS_REST_URL for production (HTTPS/TLS by default)
REDIS_URL=redis://localhost:6379/0

# Upstash Redis REST API URL (HTTPS/TLS enabled by default)
# Security: public [REQUIRED for production]
# Example: https://xxxxx.upstash.io
# UPSTASH_REDIS_REST_URL=

# Upstash Redis REST API token (HTTPS/TLS enabled by default)
# Security: secret [REQUIRED for production]
# UPSTASH_REDIS_REST_TOKEN=your-secret-key-here

# ============================================
# OPTIONAL - CORS Configuration
# ============================================

# Allowed CORS origins (comma-separated)
# Default: http://localhost:5173,http://localhost:5174
ORCHESTRATOR_CORS_ORIGINS=http://localhost:5173,http://localhost:5174,https://morningai.vercel.app

# ============================================
# OPTIONAL - Rate Limiting
# ============================================

# Rate limit for task creation (requests per minute)
# Default: 10
ORCHESTRATOR_RATE_LIMIT_TASKS=10

# Rate limit for event publishing (requests per minute)
# Default: 20
ORCHESTRATOR_RATE_LIMIT_EVENTS=20

# Rate limit for approval operations (requests per minute)
# Default: 5
ORCHESTRATOR_RATE_LIMIT_APPROVALS=5

# Rate limit for stats endpoints (requests per minute)
# Default: 30
ORCHESTRATOR_RATE_LIMIT_STATS=30

# ============================================
# OPTIONAL - Application Configuration
# ============================================

# Environment (development, staging, production)
# Default: development
ENVIRONMENT=production

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO
LOG_LEVEL=INFO

# ============================================
# OPTIONAL - Health Check Configuration
# ============================================

# Health check timeout in seconds
# Default: 5
HEALTH_CHECK_TIMEOUT=5

# ============================================
# OPTIONAL - Task Queue Configuration
# ============================================

# Task queue name prefix
# Default: orchestrator
ORCHESTRATOR_QUEUE_PREFIX=orchestrator

# Task TTL in seconds (time to live)
# Default: 86400 (24 hours)
ORCHESTRATOR_TASK_TTL=86400

# ============================================
# OPTIONAL - HITL Gate Configuration
# ============================================

# Approval timeout in seconds
# Default: 86400 (24 hours)
ORCHESTRATOR_APPROVAL_TIMEOUT=86400

# Approval history retention in seconds
# Default: 2592000 (30 days)
ORCHESTRATOR_APPROVAL_HISTORY_TTL=2592000

# Maximum approval history entries
# Default: 1000
ORCHESTRATOR_MAX_APPROVAL_HISTORY=1000
